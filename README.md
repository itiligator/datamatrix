# Руководство по запуску `test_app.py`

Это руководство поможет вам запустить `test_app.py` на вашем компьютере с операционной системой Windows. Следуйте шагам ниже:

## Шаг 1: Установка Python

1. Перейдите на официальный сайт Python: [python.org](https://www.python.org/).
2. Скачайте последнюю версию Python для Windows.
3. Запустите установочный файл и следуйте инструкциям. Обязательно отметьте галочку "Add Python to PATH" перед установкой.

## Шаг 2: Создание виртуального окружения

1. Откройте командную строку (нажмите `Win + R`, введите `cmd` и нажмите `Enter`).
2. Перейдите в директорию вашего проекта. Например:
    ```sh
    cd C:\path\to\your\project
    ```
3. Создайте виртуальное окружение:
    ```sh
    python -m venv venv
    ```
4. Активируйте виртуальное окружение:
    ```sh
    venv\Scripts\activate
    ```

## Шаг 3: Установка зависимостей

1. Убедитесь, что вы находитесь в активированном виртуальном окружении (в командной строке должно быть `(venv)`).
2. Установите необходимые зависимости:
    ```sh
    pip install -r requirements.txt
    ```

## Шаг 4: Настройка тестового приложения

1. Откройте файл `test_app.py` в любом текстовом редакторе.
2. Найдите строку:
    ```python
    ftp_publisher = FTPPublisher('localhost')
    ```
   Замените `'localhost'` на адрес вашего FTP сервера.
3. Найдите строку:
    ```python
    decoder = DataMatrixDecoder(url='http://192.168.1.101:8080/photoaf.jpg', max_count=3, timeout=2000, shrink=2,
                                callback=box_marker.process_detected_codes)
    ```
   Замените `'http://192.168.1.101:8080/photoaf.jpg'` на URL, который будет использоваться для получения изображений.
4. Найдите функцию `start_flask`:
    ```python
    def start_flask():
        app.run(host='0.0.0.0', port=8001)
    ```
   Замените `8001` на нужный вам порт, если требуется.

Пример изменений:
```python
# Настройка FTP сервера
ftp_publisher = FTPPublisher('ftp.example.com')

# Настройка URL для DataMatrixDecoder
decoder = DataMatrixDecoder(url='http://example.com/photo.jpg', max_count=3, timeout=2000, shrink=2,
                            callback=box_marker.process_detected_codes)

# Настройка порта Flask сервера
def start_flask():
    app.run(host='0.0.0.0', port=8080)
```

## Шаг 5: Запуск приложения

1. В командной строке, находясь в активированном виртуальном окружении, запустите приложение:
    ```sh
    python test_app.py
    ```

## Шаг 6: Просмотр результатов

1. Откройте веб-браузер и перейдите по адресу:
    ```
    http://localhost:8001
    ```
   (или по адресу с вашим портом, если вы его изменили).
2. Вы увидите веб-интерфейс, где будет отображаться статус, состояние устройств, текущее состояние и список текущих задатекированных кодов.

Следуя этим шагам, вы сможете успешно запустить `test_app.py` и просматривать результаты его работы через веб-интерфейс.